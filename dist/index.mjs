import{pathToFileURL as V}from"node:url";import*as u from"node:console";import v from"node:fs";import y from"node:path";import $ from"node:fs";import w from"node:path";import h from"node:process";import*as m from"node:console";import{globSync as B}from"glob";import O from"node:fs";function I(e){return JSON.parse(O.readFileSync(e).toString("utf-8"))}function g(e){return I(e)}function x(e){return I(e)}function d(e){return(process.env[`INPUT_${e.toUpperCase()}`]||"").trim()}function j(e){let r=k(e);$.mkdirSync(w.join(h.cwd(),e.analyzerDirectory),{recursive:!0});let t=w.join(h.cwd(),e.analyzerDirectory,"bundle_analysis.json");$.writeFileSync(t,JSON.stringify(r,null,2)),m.log(`Wrote ${t}`,r)}function N(e){return e.metafiles.flatMap(r=>B(w.join(h.cwd(),r),{nodir:!0}).map(t=>({relativePath:w.relative(h.cwd(),t),absolutePath:t})))}function k(e){let r={},t=N(e),n=t.reduce((o,{relativePath:s,absolutePath:i})=>{try{$.accessSync(i,$.constants.R_OK)}catch{m.error(`No meta file found at "${i}" - a path to meta file may be wrong, or esbuild is not executed.`),h.exit(1)}let l=g(i);return Object.entries(l.outputs).reduce((a,c)=>{let[f,p]=c;return e.includeExtensions.some(b=>f.toLowerCase().endsWith(b))&&(a[`${s} -> ${f}`]={bytes:p.bytes,metafile:s,outfile:f}),a},o),o},r);return m.log("Found metafiles",t),m.log("Found result",n),n}function A(e){let r=!1,t=`## \u{1F4E6} esbuild Bundle Analysis for ${e.name}

This analysis was generated by [esbuild-bundle-analyzer](https://github.com/exoego/esbuild-bundle-analyzer). \u{1F916}
`,n=y.join(process.cwd(),e.analyzerDirectory,"bundle_analysis.json"),o=x(n);u.log(`Current analysis found in ${n}`,o);let s=J(e),i=L(e),a=[...new Set([...Object.keys(o),...Object.keys(s)])].sort().map(c=>{let f=o[c],p=s[c];if(u.log("Comparing",c,f,p),!f)return u.log("Deleted file",c),r=!0,{...p,baseBytes:-1,remark:"deleted",tree:void 0};let b=i.get(P(f.metafile,f.outfile));if(!p)return u.log("New file",c),r=!0,{...f,baseBytes:-1,remark:"added",tree:b};let S=f.bytes-p.bytes;return S!==0?(u.log("Changed file",c,S),r=!0):u.log("No change",c),{...f,baseBytes:p.bytes,tree:b,remark:Math.sign(S)?"increased":"decreased"}});u.log("Comparison done.",a),r?(t+=U(a,e.percentExtraAttention),t+=W(a,e.topNLargestPaths),t+=E(e)):t+="This PR introduced no changes to the esbuild bundle! \u{1F64C}",t+=`<!-- __ESBUILD_BUNDLE_${e.name} -->`,C(e,t)}function P(e,r){return`${e} -> ${r}`}function C(e,r){u.log("Writing comment to file.",r),v.mkdirSync(y.join(process.cwd(),e.analyzerDirectory),{recursive:!0}),v.writeFileSync(y.join(process.cwd(),e.analyzerDirectory,"bundle_analysis_comment.txt"),r.trim())}function E(e){return e.showDetails?`
<details>
<summary>Details</summary>
<p>Next to the size is how much the size has increased or decreased compared with the base branch of this PR.</p>
<ul>
<li>\u203C\uFE0F: Size increased by ${e.percentExtraAttention}% or more. Special attention should be given to this.</li>
<li>\u26A0\uFE0F: Size increased in acceptable range (lower than ${e.percentExtraAttention}%).</li>
<li>\u2705: No change or even downsized.</li>
<li>\u{1F5D1}\uFE0F: The out file is deleted: not found in base branch.</li>
<li>\u{1F195}: The out file is newly found: will be added to base branch.</li>
</ul>
</details>
`:""}function J(e){try{let r=y.join(process.cwd(),e.analyzerDirectory,"base/bundle/bundle_analysis.json"),t=x(r);return u.info(`Base analysis found in ${r}`,t),t}catch{return u.warn("No base analysis found. First setup or all artifacts are expired."),{}}}function L(e){function r(o){let s={name:"",path:"",value:0,children:[]};for(let[i,{bytesInOutput:l}]of Object.entries(o)){let a=i.split("/");t(s,a,l)}return s}function t(o,s,i){let l=s.shift();if(l===void 0){o.value+=i;return}let a=o.children.find(c=>c.name===l);a||(a={name:l,path:`${o.path}/${l}`.replace(/^\//,""),value:0,children:[]},o.children.push(a)),o.value+=i,t(a,s,i)}let n=new Map;if(e.topNLargestPaths<=0)return n;for(let{relativePath:o,absolutePath:s}of N(e)){let i=g(s);for(let[l,a]of Object.entries(i.outputs)){let c=r(a.inputs);n.set(P(o,l),c),v.writeFileSync(y.join(process.cwd(),e.analyzerDirectory,"tree.json"),JSON.stringify(c,null,2))}}return n}var M="\xA0";function F(e){let r=e<0?"-":"",t=Math.abs(e);if(t<1e3)return`${r}${t}${M}B`;if(t<1e3*1e3)return`${r}${(t/1e3).toFixed(2)}${M}KB`;if(t<1e3*1e3*1e3)return`${r}${(t/1e3/1e3).toFixed(2)}${M}MB`;if(t<1e3*1e3*1e3*1e3)return`${r}${(t/1e3/1e3/1e3).toFixed(2)}${M}GB`;throw new Error("Too large file size!! Are you sure?")}function U(e,r){return`
Meta File | Out File  | Size (raw) | Note 
----------|----------|-----------:|------
${e.map(n=>`${n.metafile} | ${n.outfile} | ${q(n)} | ${H(n,r)}
`).join("")}`}function K(e,r){let t=[],n=[{node:e,depth:0}];for(;n.length>0;){let s=n.shift();if(!s)break;let{node:i,depth:l}=s;if(l===3){t.push(i);continue}if(i.children.length===0)t.push(i);else for(let a of i.children)n.push({node:a,depth:l+1})}return{largeNodes:t.sort((s,i)=>i.value-s.value).slice(0,r),hasOther:t.length>r}}function R(e,r){return Number.parseFloat((e/r*100).toFixed(1))}function W(e,r){if(e.length===0||r<=0)return"";let t="";t+=`<details>
`,t+=`<summary>Largest paths</summary>
`,t+=`These visualization shows top ${r} largest paths in the bundle.
`;for(let n of e){if(t+=`
`,t+=`## Meta file: ${n.metafile}, Out file: ${n.outfile}
`,!n.tree){t+=`\uFE0F\uFE0F\u{1F5D1}\uFE0FDeleted
`;continue}t+=`| Path | Size |
`,t+=`|------|-------|
`;let o=n.tree.value,{largeNodes:s,hasOther:i}=K(n.tree,r);for(let{path:l,value:a}of s){let c=R(a,o);t+=`| ${l} | ${T(c,a)} |
`}if(i){let l=o-s[0].value,a=R(l,o);t+=`| (other) | ${T(a,l)} |
`}}return t+=`</details>
`,t}function T(e,r){return`\${{\\color{Goldenrod}{ ${G(e/100)} }}}$ ${e.toFixed(1)}%, ${F(r)}`}var _=["","\u258F","\u258E","\u258D","\u258C","\u258B","\u258A","\u2589","\u2588"],z=1/(_.length-1);function G(e,r=25,t=0,n=1){let o=e*r,s=Math.floor(o),i=o-s,l=Math.round(z*Math.floor(i/z)/z);return"\u2588".repeat(s)+_[l]}function q(e){return F(e.bytes)}function H(e,r){if(e.remark==="deleted")return"\u{1F5D1}\uFE0F Deleted";if(e.remark==="added")return"\u{1F195} Added";let t=e.bytes-e.baseBytes;if(t!==0){let n=t/e.baseBytes*100;return`${Q(n,r)}${F(t)} (${D(n)}${n.toFixed(1)}%)`}return"\u2705  No change"}function D(e){return e<0?"":"+"}function Q(e,r){let t;return e>0&&e<r?t="\u26A0\uFE0F":e>=r?t="\u203C\uFE0F":t="\u2705 ",`${t} ${D(e)}`}function X(){let e=d("metafiles");if(!e)throw new Error("metafiles is not specified");let r=d("name");if(!r)throw new Error("name is not specified");return{percentExtraAttention:Number.parseInt(d("percent_extra_attention")||"20",10),showDetails:["true","True","TRUE"].includes(d("show_details")||"true"),topNLargestPaths:Number.parseInt(d("top_n_largest_paths")||"20",10),includeExtensions:(d("include_extensions")||".js,.mjs,.cjs").split(","),name:r,analyzerDirectory:d("analyze_directory")||".analyzer",metafiles:e.split(",")}}function Y(e=X()){j(e),A(e)}import.meta.url===V(process.argv[1]).href&&Y();export{Y as run};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL2luZGV4LnRzIiwgIi4uL3NyYy9jb21wYXJlLnRzIiwgIi4uL3NyYy9yZXBvcnQudHMiLCAiLi4vc3JjL3V0aWxzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBwYXRoVG9GaWxlVVJMIH0gZnJvbSBcIm5vZGU6dXJsXCI7XG5pbXBvcnQgeyBjb21wYXJlIH0gZnJvbSBcIi4vY29tcGFyZVwiO1xuaW1wb3J0IHsgcmVwb3J0IH0gZnJvbSBcIi4vcmVwb3J0XCI7XG5pbXBvcnQgdHlwZSB7IElucHV0IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGdldFNpbmdsZUlucHV0IH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuZnVuY3Rpb24gZ2V0SW5wdXQoKTogSW5wdXQge1xuXHRjb25zdCByYXdNZXRhZmlsZXMgPSBnZXRTaW5nbGVJbnB1dChcIm1ldGFmaWxlc1wiKTtcblx0aWYgKCFyYXdNZXRhZmlsZXMpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJtZXRhZmlsZXMgaXMgbm90IHNwZWNpZmllZFwiKTtcblx0fVxuXHRjb25zdCBuYW1lID0gZ2V0U2luZ2xlSW5wdXQoXCJuYW1lXCIpO1xuXHRpZiAoIW5hbWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJuYW1lIGlzIG5vdCBzcGVjaWZpZWRcIik7XG5cdH1cblx0cmV0dXJuIHtcblx0XHRwZXJjZW50RXh0cmFBdHRlbnRpb246IE51bWJlci5wYXJzZUludChcblx0XHRcdGdldFNpbmdsZUlucHV0KFwicGVyY2VudF9leHRyYV9hdHRlbnRpb25cIikgfHwgXCIyMFwiLFxuXHRcdFx0MTAsXG5cdFx0KSxcblx0XHRzaG93RGV0YWlsczogW1widHJ1ZVwiLCBcIlRydWVcIiwgXCJUUlVFXCJdLmluY2x1ZGVzKFxuXHRcdFx0Z2V0U2luZ2xlSW5wdXQoXCJzaG93X2RldGFpbHNcIikgfHwgXCJ0cnVlXCIsXG5cdFx0KSxcblx0XHR0b3BOTGFyZ2VzdFBhdGhzOiBOdW1iZXIucGFyc2VJbnQoXG5cdFx0XHRnZXRTaW5nbGVJbnB1dChcInRvcF9uX2xhcmdlc3RfcGF0aHNcIikgfHwgXCIyMFwiLFxuXHRcdFx0MTAsXG5cdFx0KSxcblx0XHRpbmNsdWRlRXh0ZW5zaW9uczogKFxuXHRcdFx0Z2V0U2luZ2xlSW5wdXQoXCJpbmNsdWRlX2V4dGVuc2lvbnNcIikgfHwgXCIuanMsLm1qcywuY2pzXCJcblx0XHQpLnNwbGl0KFwiLFwiKSxcblx0XHRuYW1lLFxuXHRcdGFuYWx5emVyRGlyZWN0b3J5OiBnZXRTaW5nbGVJbnB1dChcImFuYWx5emVfZGlyZWN0b3J5XCIpIHx8IFwiLmFuYWx5emVyXCIsXG5cdFx0bWV0YWZpbGVzOiByYXdNZXRhZmlsZXMuc3BsaXQoXCIsXCIpLFxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcnVuKGlucHV0OiBJbnB1dCA9IGdldElucHV0KCkpOiB2b2lkIHtcblx0cmVwb3J0KGlucHV0KTtcblx0Y29tcGFyZShpbnB1dCk7XG59XG5cbmlmIChpbXBvcnQubWV0YS51cmwgPT09IHBhdGhUb0ZpbGVVUkwocHJvY2Vzcy5hcmd2WzFdKS5ocmVmKSB7XG5cdHJ1bigpO1xufVxuIiwgImltcG9ydCAqIGFzIGNvbnNvbGUgZnJvbSBcIm5vZGU6Y29uc29sZVwiO1xuaW1wb3J0IGZzIGZyb20gXCJub2RlOmZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwibm9kZTpwYXRoXCI7XG5pbXBvcnQgeyBmaW5kTWV0YWZpbGVzIH0gZnJvbSBcIi4vcmVwb3J0XCI7XG5pbXBvcnQgdHlwZSB7IENvbXBhcmVSZXN1bHQsIElucHV0LCBSZXBvcnQsIFRyZWVNYXBOb2RlIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGxvYWRBbmFseXNpc0pzb24sIGxvYWRNZXRhRmlsZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlKGlucHV0OiBJbnB1dCk6IHZvaWQge1xuXHRsZXQgaGFzQW55Q2hhbmdlID0gZmFsc2U7XG5cdGxldCBvdXRwdXQgPSBgIyMgXHVEODNEXHVEQ0U2IGVzYnVpbGQgQnVuZGxlIEFuYWx5c2lzIGZvciAke2lucHV0Lm5hbWV9XG5cblRoaXMgYW5hbHlzaXMgd2FzIGdlbmVyYXRlZCBieSBbZXNidWlsZC1idW5kbGUtYW5hbHl6ZXJdKGh0dHBzOi8vZ2l0aHViLmNvbS9leG9lZ28vZXNidWlsZC1idW5kbGUtYW5hbHl6ZXIpLiBcdUQ4M0VcdUREMTZcbmA7XG5cblx0Y29uc3QgY3VycmVudEFuYWx5c2lzUGF0aCA9IHBhdGguam9pbihcblx0XHRwcm9jZXNzLmN3ZCgpLFxuXHRcdGlucHV0LmFuYWx5emVyRGlyZWN0b3J5LFxuXHRcdFwiYnVuZGxlX2FuYWx5c2lzLmpzb25cIixcblx0KTtcblx0Y29uc3QgY3VycmVudCA9IGxvYWRBbmFseXNpc0pzb24oY3VycmVudEFuYWx5c2lzUGF0aCk7XG5cdGNvbnNvbGUubG9nKGBDdXJyZW50IGFuYWx5c2lzIGZvdW5kIGluICR7Y3VycmVudEFuYWx5c2lzUGF0aH1gLCBjdXJyZW50KTtcblx0Y29uc3QgYmFzZSA9IGxvYWRCYXNlQW5hbHlzaXNKc29uKGlucHV0KTtcblxuXHRjb25zdCBmaWxlVHJlZSA9IGJ1aWxkRmlsZVRyZWUoaW5wdXQpO1xuXG5cdGNvbnN0IGFsbE91dEZpbGVzOiBzdHJpbmdbXSA9IFtcblx0XHQuLi5uZXcgU2V0KFsuLi5PYmplY3Qua2V5cyhjdXJyZW50KSwgLi4uT2JqZWN0LmtleXMoYmFzZSldKSxcblx0XS5zb3J0KCk7XG5cblx0Y29uc3QgY29tcGFyaXNvbjogQXJyYXk8Q29tcGFyZVJlc3VsdD4gPSBhbGxPdXRGaWxlcy5tYXAoKG91dGZpbGUpID0+IHtcblx0XHRjb25zdCBjdXJyZW50U3RhdHMgPSBjdXJyZW50W291dGZpbGVdO1xuXHRcdGNvbnN0IGJhc2VTdGF0cyA9IGJhc2Vbb3V0ZmlsZV07XG5cdFx0Y29uc29sZS5sb2coXCJDb21wYXJpbmdcIiwgb3V0ZmlsZSwgY3VycmVudFN0YXRzLCBiYXNlU3RhdHMpO1xuXG5cdFx0aWYgKCFjdXJyZW50U3RhdHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiRGVsZXRlZCBmaWxlXCIsIG91dGZpbGUpO1xuXHRcdFx0aGFzQW55Q2hhbmdlID0gdHJ1ZTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdC4uLmJhc2VTdGF0cyxcblx0XHRcdFx0YmFzZUJ5dGVzOiAtMSxcblx0XHRcdFx0cmVtYXJrOiBcImRlbGV0ZWRcIixcblx0XHRcdFx0dHJlZTogdW5kZWZpbmVkLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCB0cmVlID0gZmlsZVRyZWUuZ2V0KFxuXHRcdFx0dHJlZUtleShjdXJyZW50U3RhdHMubWV0YWZpbGUsIGN1cnJlbnRTdGF0cy5vdXRmaWxlKSxcblx0XHQpO1xuXHRcdGlmICghYmFzZVN0YXRzKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIk5ldyBmaWxlXCIsIG91dGZpbGUpO1xuXHRcdFx0aGFzQW55Q2hhbmdlID0gdHJ1ZTtcblx0XHRcdHJldHVybiB7IC4uLmN1cnJlbnRTdGF0cywgYmFzZUJ5dGVzOiAtMSwgcmVtYXJrOiBcImFkZGVkXCIsIHRyZWUgfTtcblx0XHR9XG5cblx0XHRjb25zdCBkaWZmID0gY3VycmVudFN0YXRzLmJ5dGVzIC0gYmFzZVN0YXRzLmJ5dGVzO1xuXHRcdGlmIChkaWZmICE9PSAwKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkNoYW5nZWQgZmlsZVwiLCBvdXRmaWxlLCBkaWZmKTtcblx0XHRcdGhhc0FueUNoYW5nZSA9IHRydWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKFwiTm8gY2hhbmdlXCIsIG91dGZpbGUpO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uY3VycmVudFN0YXRzLFxuXHRcdFx0YmFzZUJ5dGVzOiBiYXNlU3RhdHMuYnl0ZXMsXG5cdFx0XHR0cmVlLFxuXHRcdFx0cmVtYXJrOiBNYXRoLnNpZ24oZGlmZikgPyBcImluY3JlYXNlZFwiIDogXCJkZWNyZWFzZWRcIixcblx0XHR9O1xuXHR9KTtcblx0Y29uc29sZS5sb2coXCJDb21wYXJpc29uIGRvbmUuXCIsIGNvbXBhcmlzb24pO1xuXG5cdGlmIChoYXNBbnlDaGFuZ2UpIHtcblx0XHRvdXRwdXQgKz0gbWFya2Rvd25UYWJsZShjb21wYXJpc29uLCBpbnB1dC5wZXJjZW50RXh0cmFBdHRlbnRpb24pO1xuXHRcdG91dHB1dCArPSBmaWxlU2l6ZVRhYmxlKGNvbXBhcmlzb24sIGlucHV0LnRvcE5MYXJnZXN0UGF0aHMpO1xuXHRcdG91dHB1dCArPSBkZXRhaWwoaW5wdXQpO1xuXHR9IGVsc2Uge1xuXHRcdG91dHB1dCArPSBcIlRoaXMgUFIgaW50cm9kdWNlZCBubyBjaGFuZ2VzIHRvIHRoZSBlc2J1aWxkIGJ1bmRsZSEgXHVEODNEXHVERTRDXCI7XG5cdH1cblxuXHQvLyB3ZSBhZGQgdGhpcyB0YWcgc28gdGhhdCBvdXIgYWN0aW9uIGNhbiBiZSBhYmxlIHRvIGVhc2lseSBhbmRcblx0Ly8gY29uc2lzdGVudGx5IGZpbmQgdGhlIHJpZ2h0IGNvbW1lbnQgdG8gZWRpdCBhcyBtb3JlIGNvbW1pdHMgYXJlIHB1c2hlZC5cblx0b3V0cHV0ICs9IGA8IS0tIF9fRVNCVUlMRF9CVU5ETEVfJHtpbnB1dC5uYW1lfSAtLT5gO1xuXG5cdHdyaXRlQ29tbWVudChpbnB1dCwgb3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gdHJlZUtleShtZXRhZmlsZTogc3RyaW5nLCBvdXRmaWxlOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRyZXR1cm4gYCR7bWV0YWZpbGV9IC0+ICR7b3V0ZmlsZX1gO1xufVxuXG4vLyBXcml0ZSB0aGUgb3V0cHV0IHRvIGEgZmlsZSB3aGljaCBpcyBsYXRlciByZWFkIGluXG4vLyBhcyBjb21tZW50IGNvbnRlbnRzIGJ5IHRoZSBhY3Rpb25zIHdvcmtmbG93LlxuZnVuY3Rpb24gd3JpdGVDb21tZW50KGlucHV0OiBJbnB1dCwgb3V0cHV0OiBzdHJpbmcpOiB2b2lkIHtcblx0Y29uc29sZS5sb2coXCJXcml0aW5nIGNvbW1lbnQgdG8gZmlsZS5cIiwgb3V0cHV0KTtcblx0ZnMubWtkaXJTeW5jKHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBpbnB1dC5hbmFseXplckRpcmVjdG9yeSksIHtcblx0XHRyZWN1cnNpdmU6IHRydWUsXG5cdH0pO1xuXHRmcy53cml0ZUZpbGVTeW5jKFxuXHRcdHBhdGguam9pbihcblx0XHRcdHByb2Nlc3MuY3dkKCksXG5cdFx0XHRpbnB1dC5hbmFseXplckRpcmVjdG9yeSxcblx0XHRcdFwiYnVuZGxlX2FuYWx5c2lzX2NvbW1lbnQudHh0XCIsXG5cdFx0KSxcblx0XHRvdXRwdXQudHJpbSgpLFxuXHQpO1xufVxuXG5mdW5jdGlvbiBkZXRhaWwoaW5wdXQ6IElucHV0KTogc3RyaW5nIHtcblx0aWYgKCFpbnB1dC5zaG93RGV0YWlscykge1xuXHRcdHJldHVybiBcIlwiO1xuXHR9XG5cdHJldHVybiBgXFxuPGRldGFpbHM+XG48c3VtbWFyeT5EZXRhaWxzPC9zdW1tYXJ5PlxuPHA+TmV4dCB0byB0aGUgc2l6ZSBpcyBob3cgbXVjaCB0aGUgc2l6ZSBoYXMgaW5jcmVhc2VkIG9yIGRlY3JlYXNlZCBjb21wYXJlZCB3aXRoIHRoZSBiYXNlIGJyYW5jaCBvZiB0aGlzIFBSLjwvcD5cbjx1bD5cbjxsaT5cdTIwM0NcdUZFMEY6IFNpemUgaW5jcmVhc2VkIGJ5ICR7aW5wdXQucGVyY2VudEV4dHJhQXR0ZW50aW9ufSUgb3IgbW9yZS4gU3BlY2lhbCBhdHRlbnRpb24gc2hvdWxkIGJlIGdpdmVuIHRvIHRoaXMuPC9saT5cbjxsaT5cdTI2QTBcdUZFMEY6IFNpemUgaW5jcmVhc2VkIGluIGFjY2VwdGFibGUgcmFuZ2UgKGxvd2VyIHRoYW4gJHtpbnB1dC5wZXJjZW50RXh0cmFBdHRlbnRpb259JSkuPC9saT5cbjxsaT5cdTI3MDU6IE5vIGNoYW5nZSBvciBldmVuIGRvd25zaXplZC48L2xpPlxuPGxpPlx1RDgzRFx1REREMVx1RkUwRjogVGhlIG91dCBmaWxlIGlzIGRlbGV0ZWQ6IG5vdCBmb3VuZCBpbiBiYXNlIGJyYW5jaC48L2xpPlxuPGxpPlx1RDgzQ1x1REQ5NTogVGhlIG91dCBmaWxlIGlzIG5ld2x5IGZvdW5kOiB3aWxsIGJlIGFkZGVkIHRvIGJhc2UgYnJhbmNoLjwvbGk+XG48L3VsPlxuPC9kZXRhaWxzPlxcbmA7XG59XG5cbmZ1bmN0aW9uIGxvYWRCYXNlQW5hbHlzaXNKc29uKGlucHV0OiBJbnB1dCk6IFJlcG9ydCB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgYmFzZUFuYWx5c2lzUGF0aCA9IHBhdGguam9pbihcblx0XHRcdHByb2Nlc3MuY3dkKCksXG5cdFx0XHRpbnB1dC5hbmFseXplckRpcmVjdG9yeSxcblx0XHRcdFwiYmFzZS9idW5kbGUvYnVuZGxlX2FuYWx5c2lzLmpzb25cIixcblx0XHQpO1xuXHRcdGNvbnN0IHJlcG9ydCA9IGxvYWRBbmFseXNpc0pzb24oYmFzZUFuYWx5c2lzUGF0aCk7XG5cdFx0Y29uc29sZS5pbmZvKGBCYXNlIGFuYWx5c2lzIGZvdW5kIGluICR7YmFzZUFuYWx5c2lzUGF0aH1gLCByZXBvcnQpO1xuXHRcdHJldHVybiByZXBvcnQ7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcIk5vIGJhc2UgYW5hbHlzaXMgZm91bmQuIEZpcnN0IHNldHVwIG9yIGFsbCBhcnRpZmFjdHMgYXJlIGV4cGlyZWQuXCIsXG5cdFx0KTtcblx0XHRyZXR1cm4ge307XG5cdH1cbn1cblxuZnVuY3Rpb24gYnVpbGRGaWxlVHJlZShpbnB1dDogSW5wdXQpIHtcblx0ZnVuY3Rpb24gYnVpbGRSb290KFxuXHRcdGlucHV0OiBSZWNvcmQ8c3RyaW5nLCB7IGJ5dGVzSW5PdXRwdXQ6IG51bWJlciB9Pixcblx0KTogVHJlZU1hcE5vZGUge1xuXHRcdGNvbnN0IHJvb3Q6IFRyZWVNYXBOb2RlID0geyBuYW1lOiBcIlwiLCBwYXRoOiBcIlwiLCB2YWx1ZTogMCwgY2hpbGRyZW46IFtdIH07XG5cdFx0Zm9yIChjb25zdCBbZmlsZVBhdGgsIHsgYnl0ZXNJbk91dHB1dCB9XSBvZiBPYmplY3QuZW50cmllcyhpbnB1dCkpIHtcblx0XHRcdGNvbnN0IGRpcmVjdG9yaWVzID0gZmlsZVBhdGguc3BsaXQoXCIvXCIpO1xuXHRcdFx0YnVpbGROb2RlKHJvb3QsIGRpcmVjdG9yaWVzLCBieXRlc0luT3V0cHV0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHJvb3Q7XG5cdH1cblxuXHRmdW5jdGlvbiBidWlsZE5vZGUoXG5cdFx0bm9kZTogVHJlZU1hcE5vZGUsXG5cdFx0cGF0aHM6IEFycmF5PHN0cmluZz4sXG5cdFx0dmFsdWU6IG51bWJlcixcblx0KTogdm9pZCB7XG5cdFx0Y29uc3QgZmlyc3QgPSBwYXRocy5zaGlmdCgpO1xuXHRcdGlmIChmaXJzdCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvLyBsZWFmIG5vZGUgKGZpbGUpXG5cdFx0XHRub2RlLnZhbHVlICs9IHZhbHVlO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRsZXQgY2hpbGQgPSBub2RlLmNoaWxkcmVuLmZpbmQoKGNoaWxkKSA9PiBjaGlsZC5uYW1lID09PSBmaXJzdCk7XG5cdFx0aWYgKCFjaGlsZCkge1xuXHRcdFx0Y2hpbGQgPSB7XG5cdFx0XHRcdG5hbWU6IGZpcnN0LFxuXHRcdFx0XHRwYXRoOiBgJHtub2RlLnBhdGh9LyR7Zmlyc3R9YC5yZXBsYWNlKC9eXFwvLywgXCJcIiksXG5cdFx0XHRcdHZhbHVlOiAwLFxuXHRcdFx0XHRjaGlsZHJlbjogW10sXG5cdFx0XHR9O1xuXHRcdFx0bm9kZS5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcblx0XHR9XG5cdFx0bm9kZS52YWx1ZSArPSB2YWx1ZTtcblx0XHRidWlsZE5vZGUoY2hpbGQsIHBhdGhzLCB2YWx1ZSk7XG5cdH1cblxuXHRjb25zdCB0cmVlcyA9IG5ldyBNYXA8c3RyaW5nLCBUcmVlTWFwTm9kZT4oKTtcblx0aWYgKGlucHV0LnRvcE5MYXJnZXN0UGF0aHMgPD0gMCkge1xuXHRcdC8vIFNraXAgYnVpbGRpbmcgdHJlZSBpZiB3ZSBkb24ndCBuZWVkIGl0LlxuXHRcdHJldHVybiB0cmVlcztcblx0fVxuXHRmb3IgKGNvbnN0IHsgcmVsYXRpdmVQYXRoLCBhYnNvbHV0ZVBhdGggfSBvZiBmaW5kTWV0YWZpbGVzKGlucHV0KSkge1xuXHRcdGNvbnN0IG1ldGFmaWxlSnNvbiA9IGxvYWRNZXRhRmlsZShhYnNvbHV0ZVBhdGgpO1xuXHRcdGZvciAoY29uc3QgW291dGZpbGUsIGJ1aWxkTWV0YV0gb2YgT2JqZWN0LmVudHJpZXMobWV0YWZpbGVKc29uLm91dHB1dHMpKSB7XG5cdFx0XHRjb25zdCB0cmVlID0gYnVpbGRSb290KGJ1aWxkTWV0YS5pbnB1dHMpO1xuXHRcdFx0dHJlZXMuc2V0KHRyZWVLZXkocmVsYXRpdmVQYXRoLCBvdXRmaWxlKSwgdHJlZSk7XG5cblx0XHRcdGZzLndyaXRlRmlsZVN5bmMoXG5cdFx0XHRcdHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBpbnB1dC5hbmFseXplckRpcmVjdG9yeSwgXCJ0cmVlLmpzb25cIiksXG5cdFx0XHRcdEpTT04uc3RyaW5naWZ5KHRyZWUsIG51bGwsIDIpLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRyZWVzO1xufVxuXG5jb25zdCBzcGFjZXIgPSBcIlx1MDBBMFwiO1xuZnVuY3Rpb24gZmlsZXNpemUoYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG5cdGNvbnN0IHNpZ24gPSBieXRlcyA8IDAgPyBcIi1cIiA6IFwiXCI7XG5cdGNvbnN0IG4gPSBNYXRoLmFicyhieXRlcyk7XG5cdGlmIChuIDwgMTAwMCkge1xuXHRcdHJldHVybiBgJHtzaWdufSR7bn0ke3NwYWNlcn1CYDtcblx0fVxuXHRpZiAobiA8IDEwMDAgKiAxMDAwKSB7XG5cdFx0cmV0dXJuIGAke3NpZ259JHsobiAvIDEwMDApLnRvRml4ZWQoMil9JHtzcGFjZXJ9S0JgO1xuXHR9XG5cdGlmIChuIDwgMTAwMCAqIDEwMDAgKiAxMDAwKSB7XG5cdFx0cmV0dXJuIGAke3NpZ259JHsobiAvIDEwMDAgLyAxMDAwKS50b0ZpeGVkKDIpfSR7c3BhY2VyfU1CYDtcblx0fVxuXHRpZiAobiA8IDEwMDAgKiAxMDAwICogMTAwMCAqIDEwMDApIHtcblx0XHRyZXR1cm4gYCR7c2lnbn0keyhuIC8gMTAwMCAvIDEwMDAgLyAxMDAwKS50b0ZpeGVkKDIpfSR7c3BhY2VyfUdCYDtcblx0fVxuXHR0aHJvdyBuZXcgRXJyb3IoXCJUb28gbGFyZ2UgZmlsZSBzaXplISEgQXJlIHlvdSBzdXJlP1wiKTtcbn1cblxuZnVuY3Rpb24gbWFya2Rvd25UYWJsZShcblx0ZGF0YTogQXJyYXk8Q29tcGFyZVJlc3VsdD4sXG5cdHJlZFRocmVzaG9sZDogbnVtYmVyLFxuKTogc3RyaW5nIHtcblx0Y29uc3Qgcm93cyA9IGRhdGFcblx0XHQubWFwKChkKSA9PiB7XG5cdFx0XHRyZXR1cm4gYCR7ZC5tZXRhZmlsZX0gfCAke2Qub3V0ZmlsZX0gfCAke3JlbmRlclNpemUoZCl9IHwgJHtyZW5kZXJOb3RlKFxuXHRcdFx0XHRkLFxuXHRcdFx0XHRyZWRUaHJlc2hvbGQsXG5cdFx0XHQpfVxcbmA7XG5cdFx0fSlcblx0XHQuam9pbihcIlwiKTtcblxuXHRyZXR1cm4gYFxuTWV0YSBGaWxlIHwgT3V0IEZpbGUgIHwgU2l6ZSAocmF3KSB8IE5vdGUgXG4tLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLS06fC0tLS0tLVxuJHtyb3dzfWA7XG59XG5cbi8qKlxuICogRmluZCB0aGUgdG9wIE4gbGFyZ2VzdCBub2RlcyBpbiByb290IHRyZWUuXG4gKiBEaWcgbm9kZXMgdW50aWwgdGhlIGRlcHRoIG9mIDMuXG4gKi9cbmZ1bmN0aW9uIGZpbmRMYXJnZURpcmVjdG9yaWVzKHJvb3Q6IFRyZWVNYXBOb2RlLCBOOiBudW1iZXIpIHtcblx0Y29uc3Qgbm9kZXM6IFRyZWVNYXBOb2RlW10gPSBbXTtcblx0Y29uc3QgcXVldWU6IEFycmF5PHsgbm9kZTogVHJlZU1hcE5vZGU7IGRlcHRoOiBudW1iZXIgfT4gPSBbXG5cdFx0eyBub2RlOiByb290LCBkZXB0aDogMCB9LFxuXHRdO1xuXHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuXHRcdGNvbnN0IHNoaWZ0ID0gcXVldWUuc2hpZnQoKTtcblx0XHRpZiAoIXNoaWZ0KSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0Y29uc3QgeyBub2RlLCBkZXB0aCB9ID0gc2hpZnQ7XG5cdFx0aWYgKGRlcHRoID09PSAzKSB7XG5cdFx0XHRub2Rlcy5wdXNoKG5vZGUpO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0bm9kZXMucHVzaChub2RlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChjb25zdCBpdGVtIG9mIG5vZGUuY2hpbGRyZW4pIHtcblx0XHRcdFx0cXVldWUucHVzaCh7IG5vZGU6IGl0ZW0sIGRlcHRoOiBkZXB0aCArIDEgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGNvbnN0IGxhcmdlTm9kZXMgPSBub2Rlcy5zb3J0KChhLCBiKSA9PiBiLnZhbHVlIC0gYS52YWx1ZSkuc2xpY2UoMCwgTik7XG5cdHJldHVybiB7XG5cdFx0bGFyZ2VOb2Rlcyxcblx0XHRoYXNPdGhlcjogbm9kZXMubGVuZ3RoID4gTixcblx0fTtcbn1cblxuZnVuY3Rpb24gZml4ZWRQZXJjZW50KG46IG51bWJlciwgZDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIE51bWJlci5wYXJzZUZsb2F0KCgobiAvIGQpICogMTAwKS50b0ZpeGVkKDEpKTtcbn1cblxuZnVuY3Rpb24gZmlsZVNpemVUYWJsZShcblx0ZGF0YTogQXJyYXk8Q29tcGFyZVJlc3VsdD4sXG5cdHRvcE5MYXJnZXN0UGF0aHM6IG51bWJlcixcbik6IHN0cmluZyB7XG5cdGlmIChkYXRhLmxlbmd0aCA9PT0gMCB8fCB0b3BOTGFyZ2VzdFBhdGhzIDw9IDApIHtcblx0XHRyZXR1cm4gXCJcIjtcblx0fVxuXHRsZXQgb3V0cHV0ID0gXCJcIjtcblx0b3V0cHV0ICs9IFwiPGRldGFpbHM+XFxuXCI7XG5cdG91dHB1dCArPSBcIjxzdW1tYXJ5Pkxhcmdlc3QgcGF0aHM8L3N1bW1hcnk+XFxuXCI7XG5cdG91dHB1dCArPSBgVGhlc2UgdmlzdWFsaXphdGlvbiBzaG93cyB0b3AgJHt0b3BOTGFyZ2VzdFBhdGhzfSBsYXJnZXN0IHBhdGhzIGluIHRoZSBidW5kbGUuXFxuYDtcblx0Zm9yIChjb25zdCBkIG9mIGRhdGEpIHtcblx0XHRvdXRwdXQgKz0gXCJcXG5cIjtcblx0XHRvdXRwdXQgKz0gYCMjIE1ldGEgZmlsZTogJHtkLm1ldGFmaWxlfSwgT3V0IGZpbGU6ICR7ZC5vdXRmaWxlfVxcbmA7XG5cdFx0aWYgKCFkLnRyZWUpIHtcblx0XHRcdG91dHB1dCArPSBcIlx1RkUwRlx1RkUwRlx1RDgzRFx1REREMVx1RkUwRkRlbGV0ZWRcXG5cIjtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHRvdXRwdXQgKz0gXCJ8IFBhdGggfCBTaXplIHxcXG5cIjtcblx0XHRvdXRwdXQgKz0gXCJ8LS0tLS0tfC0tLS0tLS18XFxuXCI7XG5cdFx0Y29uc3QgdG90YWxTaXplID0gZC50cmVlLnZhbHVlO1xuXHRcdGNvbnN0IHsgbGFyZ2VOb2RlcywgaGFzT3RoZXIgfSA9IGZpbmRMYXJnZURpcmVjdG9yaWVzKFxuXHRcdFx0ZC50cmVlLFxuXHRcdFx0dG9wTkxhcmdlc3RQYXRocyxcblx0XHQpO1xuXHRcdGZvciAoY29uc3QgeyBwYXRoLCB2YWx1ZSB9IG9mIGxhcmdlTm9kZXMpIHtcblx0XHRcdGNvbnN0IHBlcmNlbnQgPSBmaXhlZFBlcmNlbnQodmFsdWUsIHRvdGFsU2l6ZSk7XG5cdFx0XHRvdXRwdXQgKz0gYHwgJHtwYXRofSB8ICR7cmVuZGVyQmFyKHBlcmNlbnQsIHZhbHVlKX0gfFxcbmA7XG5cdFx0fVxuXHRcdGlmIChoYXNPdGhlcikge1xuXHRcdFx0Y29uc3Qgb3RoZXJTaXplID0gdG90YWxTaXplIC0gbGFyZ2VOb2Rlc1swXS52YWx1ZTtcblx0XHRcdGNvbnN0IG90aGVyUGVyY2VudCA9IGZpeGVkUGVyY2VudChvdGhlclNpemUsIHRvdGFsU2l6ZSk7XG5cdFx0XHRvdXRwdXQgKz0gYHwgKG90aGVyKSB8ICR7cmVuZGVyQmFyKG90aGVyUGVyY2VudCwgb3RoZXJTaXplKX0gfFxcbmA7XG5cdFx0fVxuXHR9XG5cdG91dHB1dCArPSBcIjwvZGV0YWlscz5cXG5cIjtcblx0cmV0dXJuIG91dHB1dDtcbn1cblxuZnVuY3Rpb24gcmVuZGVyQmFyKHBlcmNlbnQ6IG51bWJlciwgYnl0ZXM6IG51bWJlcik6IHN0cmluZyB7XG5cdGNvbnN0IGJhciA9IHByb2dyZXNzKHBlcmNlbnQgLyAxMDApO1xuXHRyZXR1cm4gYFxcJHt7XFxcXGNvbG9ye0dvbGRlbnJvZH17ICR7YmFyfSB9fX1cXCQgJHtwZXJjZW50LnRvRml4ZWQoXG5cdFx0MSxcblx0KX0lLCAke2ZpbGVzaXplKGJ5dGVzKX1gO1xufVxuXG4vLyBCbG9jayBwcm9ncmVzc2lvbiBpcyAxLzggPSAwLjEyNVxuY29uc3QgYmxvY2tzID0gW1wiXCIsIFwiXHUyNThGXCIsIFwiXHUyNThFXCIsIFwiXHUyNThEXCIsIFwiXHUyNThDXCIsIFwiXHUyNThCXCIsIFwiXHUyNThBXCIsIFwiXHUyNTg5XCIsIFwiXHUyNTg4XCJdO1xuY29uc3QgcHJvZ3Jlc3Npb24gPSAxIC8gKGJsb2Nrcy5sZW5ndGggLSAxKTtcbmZ1bmN0aW9uIHByb2dyZXNzKHZhbHVlOiBudW1iZXIsIGxlbmd0aCA9IDI1LCB2bWluID0gMC4wLCB2bWF4ID0gMS4wKSB7XG5cdGNvbnN0IHYgPSB2YWx1ZSAqIGxlbmd0aDtcblx0Y29uc3QgaW50ZWdlclBhcnQgPSBNYXRoLmZsb29yKHYpO1xuXHRjb25zdCBmcmFjdGlvbmFsUGFydCA9IHYgLSBpbnRlZ2VyUGFydDtcblx0Y29uc3QgaSA9IE1hdGgucm91bmQoXG5cdFx0KHByb2dyZXNzaW9uICogTWF0aC5mbG9vcihmcmFjdGlvbmFsUGFydCAvIHByb2dyZXNzaW9uKSkgLyBwcm9ncmVzc2lvbixcblx0KTtcblx0cmV0dXJuIFwiXHUyNTg4XCIucmVwZWF0KGludGVnZXJQYXJ0KSArIGJsb2Nrc1tpXTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyU2l6ZShkOiBDb21wYXJlUmVzdWx0KTogc3RyaW5nIHtcblx0cmV0dXJuIGZpbGVzaXplKGQuYnl0ZXMpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJOb3RlKGQ6IENvbXBhcmVSZXN1bHQsIHJlZFRocmVzaG9sZDogbnVtYmVyKTogc3RyaW5nIHtcblx0aWYgKGQucmVtYXJrID09PSBcImRlbGV0ZWRcIikge1xuXHRcdHJldHVybiBcIlx1RDgzRFx1REREMVx1RkUwRiBEZWxldGVkXCI7XG5cdH1cblx0aWYgKGQucmVtYXJrID09PSBcImFkZGVkXCIpIHtcblx0XHRyZXR1cm4gXCJcdUQ4M0NcdUREOTUgQWRkZWRcIjtcblx0fVxuXHRjb25zdCBkaWZmID0gZC5ieXRlcyAtIGQuYmFzZUJ5dGVzO1xuXHRpZiAoZGlmZiAhPT0gMCkge1xuXHRcdGNvbnN0IHBlcmNlbnRDaGFuZ2UgPSAoZGlmZiAvIGQuYmFzZUJ5dGVzKSAqIDEwMDtcblx0XHRyZXR1cm4gYCR7cmVuZGVyU3RhdHVzSW5kaWNhdG9yKHBlcmNlbnRDaGFuZ2UsIHJlZFRocmVzaG9sZCl9JHtmaWxlc2l6ZShcblx0XHRcdGRpZmYsXG5cdFx0KX0gKCR7c2lnbihwZXJjZW50Q2hhbmdlKX0ke3BlcmNlbnRDaGFuZ2UudG9GaXhlZCgxKX0lKWA7XG5cdH1cblx0cmV0dXJuIFwiXHUyNzA1ICBObyBjaGFuZ2VcIjtcbn1cblxuZnVuY3Rpb24gc2lnbihudW06IG51bWJlcik6IHN0cmluZyB7XG5cdHJldHVybiBudW0gPCAwID8gXCJcIiA6IFwiK1wiO1xufVxuXG5mdW5jdGlvbiByZW5kZXJTdGF0dXNJbmRpY2F0b3IoXG5cdHBlcmNlbnRDaGFuZ2U6IG51bWJlcixcblx0cmVkVGhyZXNob2xkOiBudW1iZXIsXG4pOiBzdHJpbmcge1xuXHRsZXQgcmVzOiBzdHJpbmc7XG5cdGlmIChwZXJjZW50Q2hhbmdlID4gMCAmJiBwZXJjZW50Q2hhbmdlIDwgcmVkVGhyZXNob2xkKSB7XG5cdFx0cmVzID0gXCJcdTI2QTBcdUZFMEZcIjtcblx0fSBlbHNlIGlmIChwZXJjZW50Q2hhbmdlID49IHJlZFRocmVzaG9sZCkge1xuXHRcdHJlcyA9IFwiXHUyMDNDXHVGRTBGXCI7XG5cdH0gZWxzZSB7XG5cdFx0cmVzID0gXCJcdTI3MDUgXCI7XG5cdH1cblx0cmV0dXJuIGAke3Jlc30gJHtzaWduKHBlcmNlbnRDaGFuZ2UpfWA7XG59XG4iLCAiaW1wb3J0IGZzIGZyb20gXCJub2RlOmZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwibm9kZTpwYXRoXCI7XG5pbXBvcnQgcHJvY2VzcyBmcm9tIFwibm9kZTpwcm9jZXNzXCI7XG5cbmltcG9ydCAqIGFzIGNvbnNvbGUgZnJvbSBcIm5vZGU6Y29uc29sZVwiO1xuaW1wb3J0IHsgZ2xvYlN5bmMgfSBmcm9tIFwiZ2xvYlwiO1xuaW1wb3J0IHR5cGUgeyBJbnB1dCwgUmVwb3J0IH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IGxvYWRNZXRhRmlsZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXBvcnQoaW5wdXQ6IElucHV0KTogdm9pZCB7XG5cdGNvbnN0IGFsbFBhZ2VTaXplcyA9IGdldEFsbFBhZ2VTaXplcyhpbnB1dCk7XG5cdGZzLm1rZGlyU3luYyhwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgaW5wdXQuYW5hbHl6ZXJEaXJlY3RvcnkpLCB7XG5cdFx0cmVjdXJzaXZlOiB0cnVlLFxuXHR9KTtcblx0Y29uc3QgcmVzdWx0SnNvblBhdGggPSBwYXRoLmpvaW4oXG5cdFx0cHJvY2Vzcy5jd2QoKSxcblx0XHRpbnB1dC5hbmFseXplckRpcmVjdG9yeSxcblx0XHRcImJ1bmRsZV9hbmFseXNpcy5qc29uXCIsXG5cdCk7XG5cdGZzLndyaXRlRmlsZVN5bmMocmVzdWx0SnNvblBhdGgsIEpTT04uc3RyaW5naWZ5KGFsbFBhZ2VTaXplcywgbnVsbCwgMikpO1xuXHRjb25zb2xlLmxvZyhgV3JvdGUgJHtyZXN1bHRKc29uUGF0aH1gLCBhbGxQYWdlU2l6ZXMpO1xufVxuXG5pbnRlcmZhY2UgTWV0YWZpbGVQYXRoIHtcblx0cmVhZG9ubHkgcmVsYXRpdmVQYXRoOiBzdHJpbmc7XG5cdHJlYWRvbmx5IGFic29sdXRlUGF0aDogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZE1ldGFmaWxlcyhpbnB1dDogSW5wdXQpOiBNZXRhZmlsZVBhdGhbXSB7XG5cdHJldHVybiBpbnB1dC5tZXRhZmlsZXMuZmxhdE1hcCgobWV0YWZpbGUpID0+IHtcblx0XHRyZXR1cm4gZ2xvYlN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIG1ldGFmaWxlKSwge1xuXHRcdFx0bm9kaXI6IHRydWUsXG5cdFx0fSkubWFwKChtZXRhRmlsZVBhdGgpID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHJlbGF0aXZlUGF0aDogcGF0aC5yZWxhdGl2ZShwcm9jZXNzLmN3ZCgpLCBtZXRhRmlsZVBhdGgpLFxuXHRcdFx0XHRhYnNvbHV0ZVBhdGg6IG1ldGFGaWxlUGF0aCxcblx0XHRcdH07XG5cdFx0fSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXRBbGxQYWdlU2l6ZXMoaW5wdXQ6IElucHV0KTogUmVwb3J0IHtcblx0Y29uc3QgYWNjOiBSZXBvcnQgPSB7fTtcblxuXHRjb25zdCBtZXRhZmlsZXMgPSBmaW5kTWV0YWZpbGVzKGlucHV0KTtcblx0Y29uc3QgcmVzdWx0ID0gbWV0YWZpbGVzLnJlZHVjZSgoYWNjLCB7IHJlbGF0aXZlUGF0aCwgYWJzb2x1dGVQYXRoIH0pID0+IHtcblx0XHR0cnkge1xuXHRcdFx0ZnMuYWNjZXNzU3luYyhhYnNvbHV0ZVBhdGgsIGZzLmNvbnN0YW50cy5SX09LKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHRcdGBObyBtZXRhIGZpbGUgZm91bmQgYXQgXCIke2Fic29sdXRlUGF0aH1cIiAtIGEgcGF0aCB0byBtZXRhIGZpbGUgbWF5IGJlIHdyb25nLCBvciBlc2J1aWxkIGlzIG5vdCBleGVjdXRlZC5gLFxuXHRcdFx0KTtcblx0XHRcdHByb2Nlc3MuZXhpdCgxKTtcblx0XHR9XG5cblx0XHRjb25zdCBtZXRhRmlsZUpzb24gPSBsb2FkTWV0YUZpbGUoYWJzb2x1dGVQYXRoKTtcblx0XHRPYmplY3QuZW50cmllcyhtZXRhRmlsZUpzb24ub3V0cHV0cykucmVkdWNlKChhY2MsIG91dHB1dCkgPT4ge1xuXHRcdFx0Y29uc3QgW291dGZpbGUsIGJ1aWxkTWV0YV0gPSBvdXRwdXQ7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCFpbnB1dC5pbmNsdWRlRXh0ZW5zaW9ucy5zb21lKChleHQpID0+XG5cdFx0XHRcdFx0b3V0ZmlsZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKGV4dCksXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gYWNjO1xuXHRcdFx0fVxuXHRcdFx0YWNjW2Ake3JlbGF0aXZlUGF0aH0gLT4gJHtvdXRmaWxlfWBdID0ge1xuXHRcdFx0XHRieXRlczogYnVpbGRNZXRhLmJ5dGVzLFxuXHRcdFx0XHRtZXRhZmlsZTogcmVsYXRpdmVQYXRoLFxuXHRcdFx0XHRvdXRmaWxlLFxuXHRcdFx0fTtcblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwgYWNjKTtcblx0XHRyZXR1cm4gYWNjO1xuXHR9LCBhY2MpO1xuXHRjb25zb2xlLmxvZyhcIkZvdW5kIG1ldGFmaWxlc1wiLCBtZXRhZmlsZXMpO1xuXHRjb25zb2xlLmxvZyhcIkZvdW5kIHJlc3VsdFwiLCByZXN1bHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuIiwgImltcG9ydCBmcyBmcm9tIFwibm9kZTpmc1wiO1xuXG5pbXBvcnQgdHlwZSB7IE1ldGFmaWxlIH0gZnJvbSBcImVzYnVpbGRcIjtcbmltcG9ydCB0eXBlIHsgUmVwb3J0IH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZnVuY3Rpb24gbG9hZEpzb25GaWxlKHBhdGg6IHN0cmluZykge1xuXHRyZXR1cm4gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMocGF0aCkudG9TdHJpbmcoXCJ1dGYtOFwiKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTWV0YUZpbGUocGF0aDogc3RyaW5nKTogTWV0YWZpbGUge1xuXHRyZXR1cm4gbG9hZEpzb25GaWxlKHBhdGgpIGFzIE1ldGFmaWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZEFuYWx5c2lzSnNvbihwYXRoOiBzdHJpbmcpOiBSZXBvcnQge1xuXHRyZXR1cm4gbG9hZEpzb25GaWxlKHBhdGgpIGFzIFJlcG9ydDtcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FjdGlvbnMvdG9vbGtpdC9ibG9iLzgxYTczYWJhOGJlZGQ1MzJmNmVkZGNjNDFlZDNhMGZhZDhiMWNmZWIvcGFja2FnZXMvY29yZS9zcmMvY29yZS50cyNMMTI2XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2luZ2xlSW5wdXQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0Y29uc3QgdmFsID0gcHJvY2Vzcy5lbnZbYElOUFVUXyR7bmFtZS50b1VwcGVyQ2FzZSgpfWBdIHx8IFwiXCI7XG5cdHJldHVybiB2YWwudHJpbSgpO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIkFBQUEsT0FBUyxpQkFBQUEsTUFBcUIsV0NBOUIsVUFBWUMsTUFBYSxlQUN6QixPQUFPQyxNQUFRLFVBQ2YsT0FBT0MsTUFBVSxZQ0ZqQixPQUFPQyxNQUFRLFVBQ2YsT0FBT0MsTUFBVSxZQUNqQixPQUFPQyxNQUFhLGVBRXBCLFVBQVlDLE1BQWEsZUFDekIsT0FBUyxZQUFBQyxNQUFnQixPQ0x6QixPQUFPQyxNQUFRLFVBS2YsU0FBU0MsRUFBYUMsRUFBYyxDQUNuQyxPQUFPLEtBQUssTUFBTUYsRUFBRyxhQUFhRSxDQUFJLEVBQUUsU0FBUyxPQUFPLENBQUMsQ0FDMUQsQ0FFTyxTQUFTQyxFQUFhRCxFQUF3QixDQUNwRCxPQUFPRCxFQUFhQyxDQUFJLENBQ3pCLENBRU8sU0FBU0UsRUFBaUJGLEVBQXNC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QmhDLEVBQ3hDbUMsRUFBTSxlQUNJSCxHQUFpQmhDLEVBQzNCbUMsRUFBTSxlQUVOQSxFQUFNLFVBRUEsR0FBR0EsQ0FBRyxJQUFJdEMsRUFBS21DLENBQWEsQ0FBQyxFQUNyQyxDRDdXQSxTQUFTSSxHQUFrQixDQUMxQixJQUFNQyxFQUFlQyxFQUFlLFdBQVcsRUFDL0MsR0FBSSxDQUFDRCxFQUNKLE1BQU0sSUFBSSxNQUFNLDRCQUE0QixFQUU3QyxJQUFNRSxFQUFPRCxFQUFlLE1BQU0sRUFDbEMsR0FBSSxDQUFDQyxFQUNKLE1BQU0sSUFBSSxNQUFNLHVCQUF1QixFQUV4QyxNQUFPLENBQ04sc0JBQXVCLE9BQU8sU0FDN0JELEVBQWUseUJBQXlCLEdBQUssS0FDN0MsRUFDRCxFQUNBLFlBQWEsQ0FBQyxPQUFRLE9BQVEsTUFBTSxFQUFFLFNBQ3JDQSxFQUFlLGNBQWMsR0FBSyxNQUNuQyxFQUNBLGlCQUFrQixPQUFPLFNBQ3hCQSxFQUFlLHFCQUFxQixHQUFLLEtBQ3pDLEVBQ0QsRUFDQSxtQkFDQ0EsRUFBZSxvQkFBb0IsR0FBSyxpQkFDdkMsTUFBTSxHQUFHLEVBQ1gsS0FBQUMsRUFDQSxrQkFBbUJELEVBQWUsbUJBQW1CLEdBQUssWUFDMUQsVUFBV0QsRUFBYSxNQUFNLEdBQUcsQ0FDbEMsQ0FDRCxDQUVPLFNBQVNHLEVBQUlDLEVBQWVMLEVBQVMsRUFBUyxDQUNwRE0sRUFBT0QsQ0FBSyxFQUNaRSxFQUFRRixDQUFLLENBQ2QsQ0FFSSxZQUFZLE1BQVFHLEVBQWMsUUFBUSxLQUFLLENBQUMsQ0FBQyxFQUFFLE1BQ3RESixFQUFJIiwKICAibmFtZXMiOiBbInBhdGhUb0ZpbGVVUkwiLCAiY29uc29sZSIsICJmcyIsICJwYXRoIiwgImZzIiwgInBhdGgiLCAicHJvY2VzcyIsICJjb25zb2xlIiwgImdsb2JTeW5jIiwgImZzIiwgImxvYWRKc29uRmlsZSIsICJwYXRoIiwgImxvYWRNZXRhRmlsZSIsICJsb2FkQW5hbHlzaXNKc29uIiwgImdldFNpbmdsZUlucHV0IiwgIm5hbWUiLCAicmVwb3J0IiwgImlucHV0IiwgImFsbFBhZ2VTaXplcyIsICJnZXRBbGxQYWdlU2l6ZXMiLCAiZnMiLCAicGF0aCIsICJwcm9jZXNzIiwgInJlc3VsdEpzb25QYXRoIiwgImZpbmRNZXRhZmlsZXMiLCAibWV0YWZpbGUiLCAiZ2xvYlN5bmMiLCAibWV0YUZpbGVQYXRoIiwgImFjYyIsICJtZXRhZmlsZXMiLCAicmVzdWx0IiwgInJlbGF0aXZlUGF0aCIsICJhYnNvbHV0ZVBhdGgiLCAibWV0YUZpbGVKc29uIiwgImxvYWRNZXRhRmlsZSIsICJvdXRwdXQiLCAib3V0ZmlsZSIsICJidWlsZE1ldGEiLCAiZXh0IiwgImNvbXBhcmUiLCAiaW5wdXQiLCAiaGFzQW55Q2hhbmdlIiwgIm91dHB1dCIsICJjdXJyZW50QW5hbHlzaXNQYXRoIiwgInBhdGgiLCAiY3VycmVudCIsICJsb2FkQW5hbHlzaXNKc29uIiwgImJhc2UiLCAibG9hZEJhc2VBbmFseXNpc0pzb24iLCAiZmlsZVRyZWUiLCAiYnVpbGRGaWxlVHJlZSIsICJjb21wYXJpc29uIiwgIm91dGZpbGUiLCAiY3VycmVudFN0YXRzIiwgImJhc2VTdGF0cyIsICJ0cmVlIiwgInRyZWVLZXkiLCAiZGlmZiIsICJtYXJrZG93blRhYmxlIiwgImZpbGVTaXplVGFibGUiLCAiZGV0YWlsIiwgIndyaXRlQ29tbWVudCIsICJtZXRhZmlsZSIsICJmcyIsICJiYXNlQW5hbHlzaXNQYXRoIiwgInJlcG9ydCIsICJidWlsZFJvb3QiLCAicm9vdCIsICJmaWxlUGF0aCIsICJieXRlc0luT3V0cHV0IiwgImRpcmVjdG9yaWVzIiwgImJ1aWxkTm9kZSIsICJub2RlIiwgInBhdGhzIiwgInZhbHVlIiwgImZpcnN0IiwgImNoaWxkIiwgInRyZWVzIiwgInJlbGF0aXZlUGF0aCIsICJhYnNvbHV0ZVBhdGgiLCAiZmluZE1ldGFmaWxlcyIsICJtZXRhZmlsZUpzb24iLCAibG9hZE1ldGFGaWxlIiwgImJ1aWxkTWV0YSIsICJzcGFjZXIiLCAiZmlsZXNpemUiLCAiYnl0ZXMiLCAic2lnbiIsICJuIiwgImRhdGEiLCAicmVkVGhyZXNob2xkIiwgImQiLCAicmVuZGVyU2l6ZSIsICJyZW5kZXJOb3RlIiwgImZpbmRMYXJnZURpcmVjdG9yaWVzIiwgIk4iLCAibm9kZXMiLCAicXVldWUiLCAic2hpZnQiLCAiZGVwdGgiLCAiaXRlbSIsICJhIiwgImIiLCAiZml4ZWRQZXJjZW50IiwgInRvcE5MYXJnZXN0UGF0aHMiLCAidG90YWxTaXplIiwgImxhcmdlTm9kZXMiLCAiaGFzT3RoZXIiLCAicGVyY2VudCIsICJyZW5kZXJCYXIiLCAib3RoZXJTaXplIiwgIm90aGVyUGVyY2VudCIsICJwcm9ncmVzcyIsICJibG9ja3MiLCAicHJvZ3Jlc3Npb24iLCAibGVuZ3RoIiwgInZtaW4iLCAidm1heCIsICJ2IiwgImludGVnZXJQYXJ0IiwgImZyYWN0aW9uYWxQYXJ0IiwgImkiLCAicGVyY2VudENoYW5nZSIsICJyZW5kZXJTdGF0dXNJbmRpY2F0b3IiLCAibnVtIiwgInJlcyIsICJnZXRJbnB1dCIsICJyYXdNZXRhZmlsZXMiLCAiZ2V0U2luZ2xlSW5wdXQiLCAibmFtZSIsICJydW4iLCAiaW5wdXQiLCAicmVwb3J0IiwgImNvbXBhcmUiLCAicGF0aFRvRmlsZVVSTCJdCn0K
